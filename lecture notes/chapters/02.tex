\mysection{Лекция 2}

\subsection{Входящий поток требований}

Входящий поток требований с математической точки зрения представляет разновидность \underline{потока событий} (или \underline{случайного потока}).

\begin{definition}
	{\color{red}Потоком событий} называют последовательность однородных событий, происходящих друг за другом в случайные моменты времени.
\end{definition}

\begin{figure}[h!]
	\scalebox{0.8}{\incfig{2}}
	\centering
	\caption{К определению потока событий}
\end{figure}

Геометрически поток событий можно представить как некоторое счетное множество точек числовой оси. Образующие поток события называются \\ \underline{элементарными событиями потока}, моменты их появления $T_k$ представляют собой некоторые \underline{случайные величины}.

Формально, задать поток можно двумя способами. \\
\textbf{1.} Обозначим через $X(t_1, t_2)$ число событий, произошедших в интервале \\ $[t_1, t_1 + t_2]$. Тогда задать поток -- это значит задать все вероятности
$$p_k (t_1, t_2) = \mathcal{P}\{X(t_1, t_2) = k\}, k = 0, 1, 2, ...$$
Полученная модель получается весьма громоздкой т.к. практическое нахождение функций $p_k (t_1, t_2)$ из эксперимента вызывает затруднения. Упрощение модели возможно если мы имеем дело с потоками особого вида, например со \underline{стационарными} потоками -- данный термин будет раскрыт далее. \\
\textbf{2.} Другой способ описания потока состоит во введении интервалов между событиями
$$\tau_k = T_k - T_{k-1}, k = 1, 2, ...$$
и задании совместного закона распределения системы случайных величин $\{\tau_k\}_{k=1}^{\infty}$

Теперь мы можем перейти к различным свойствам, которыми могут обладать потоки событий. Начнем с определения стационарности.

\begin{definition}
	Поток называется {\color{red}стационарным}, если величины $X(t_1, t_2)$ с одинаковым значением ширины $t_2$ отрезка времени $[t_1, t_1 + t_2]$, но разным значением начала отсчета времени $t_1$, будут иметь один и тот же закон распределения. Иначе говоря
	$$p_k (t_1, t_2) = p_k (t_2), k = 0, 1, 2, ...$$
\end{definition}

Другим важным свойством случайных потоков является отсутствие в них \underline{последействия} (т.е. памяти). 

\begin{definition}
	Рассмотрим два промежутка времени $\Omega_1 = [t_1, t_1 + t_2]$ и $\Omega_2 = [t_3, t_3 + t_4]$ и предположим что $\Omega_1 \cap \Omega_2 = \varnothing$. Определим случайные величины
	$X_1 = X(t_1, t_2)$ и $X_2 = X(t_3, t_4)$. Говорят что мы имеем дело с потоком {\color{red}без последействия}, если случайные величины $X_1$ и $X_2$ независимы для любых непересекающихся интервалов $\Omega_1, \Omega_2$
\end{definition}

Здесь необходимо напомнить одно важное понятие из теории вероятностей.

\begin{definition}
	{\color{red}Случайным процессом} называют функцию от момента времени $t$, значениями $U(t)$ которой являются случайные величины.
\end{definition}

Нас будут интересовать случайные процессы особого вида, т.н. марковские процессы.

\begin{definition}
	Пусть $t$ -- настоящий момент времени, $\tau$ -- некоторый будущий момент, а $s$ -- прошедший, т.е. 
	$$s < t < \tau$$
	Случайный процесс называется {\color{red}марковским процессом} если задание $t$ и $U(t)$ однозначно определяет закон распределения $U(\tau)$, соответственно $U(\tau)$ не зависит от $U(s)$. Иначе говоря будущее состояние марковского процесса полностью определяется его состоянием в настоящий момент и не зависит от прошлого.
\end{definition}

Вернемся к рассмотрению случайных потоков. Введем случайный процесс $N(t)$, определяемый как общее число требований, полученных к моменту $t$ т.е. 
$$N(t) = X(0, t)$$
Для потоков без последействия -- данный процесс будет марковским т.к. в этом случае закон распределения $N(\tau)$ может зависеть лишь от того наступило ли событие в момент $t$, а для любых $t_1, t_2$ таких что $[t_1, t_1 + t_2] \subset (t, \infty)$ случайная величина $X(t_1, t_2)$ не зависит от $N(0, t)$ по определению потока без последействия. Иначе говоря количество событий после наступления момента времени $t$ не зависит от количества событий к моменту $t$.

\subsection{Ординарные потоки требований. Интенсивность потока}

Введем вероятность попадания на интервал $[t_1, t_1 + t_2]$ не менее двух требований
$$p_{>1}(t_1, t_2) = \mathcal{P}\{X(t_1, t_2) > 1\} = \sum_{k=2}^{\infty}{p_k (t_1, t_2)}$$

\begin{definition}
	Поток событий называется {\color{red}ординарным}, если для каждого интервала $[t, t + \Delta t]$ выполнены следующие условия
	\begin{align}\label{eq:4}
	\begin{split}
		p_1 (t, \Delta t) &= \lambda(t) \Delta t + o(\Delta t), \Delta t \to 0 \\
		p_{>1}(t, \Delta t) &= o(\Delta t), \Delta t \to 0
	\end{split}
	\end{align}
	где $\lambda(t)$ -- некоторая интегрируемая функция
\end{definition}

Выясним физический смысл $\lambda(t)$ как коэффициента при $\Delta t$, введем математическое ожидание числа требований $X(t_1, t_2)$ попавших на интервал $[t_1, t_1 + t_2]$:
$$\bar{x}(t_1, t_2) = \mean{X(t_1, t_2)} = \sum_{k=0}^{\infty}{k p_k (t_1, t_2)}$$
Допустим что оно существует для рассматриваемого потока, т.е. ряд сходится и перепишем сумму в виде
\begin{equation}\label{eq:1}
	\bar{x}(t_1, t_2) = p_1 (t_1, t_2) + \bar{x}_0 p_{>1} (t_1, t_2)
\end{equation}

где $\bar{x}_0 (t_1, t_2) = \sum_{k=2}^{\infty}{k \frac{p_k (t_1, t_2)}{p_{>1} (t_1, t_2)}}$
Рассмотрим величины $q_k (t_1, t_2) = \frac{p_k (t_1, t_2)}{p_{>1} (t_1, t_2)}, k \geq 2$
Ясно что они неотрицательны и удовлетворяют условию нормировки
$$\sum_{k=2}^{\infty}{q_k (t_1, t_2)} = 1$$
Следовательно $q_k$ можно трактовать как некоторые вероятности, а именно как условные
$$q_k = \mathcal{P}\left(X(t_1, t_2) = k \ | \ X(t_1, t_2) \geq 2\right)$$
Это означает что $\bar{x}_0$ равняется среднему числу полученных требований при условии что их не меньше двух. Запишем \eqref{eq:1} для интервала $[t, t + \Delta t]$, имеем 
$$\bar{x}(t, \Delta t) = p_1 (t, \Delta t) + \bar{x}_0 (t, \Delta t)p_{>1}(t, \Delta t)$$
Для большинства реальных потоков величина $\bar{x}_0 (t, \Delta t)$ остается ограниченной при $\Delta t \to 0$ и тогда в предположении ординарности потока получаем
\begin{equation}\label{eq:2}
	\bar{x}(t, \Delta t) = \lambda(t)\Delta t + o(\Delta t) + \bar{x}_0 (t, \Delta t) o(\Delta t) = \lambda(t)\Delta t + o(\Delta t)
\end{equation}
Вновь обратимся к общему числу требованй $N(t)$ полученных к моменту $t$. Это случайная величина, а среднее число таких требований
$$\bar{n}(t) = \mean{N(t)} = \bar{x}(0, t)$$
Поскольку
$$\Delta \bar{n}(t) = \bar{n}(t + \Delta t) - \bar{n}(t) = \mean{N(t + \Delta t) - N(t)} = \mean{X(t, \Delta t)} = \bar{x}(t, \Delta t)$$
мы на основании \eqref{eq:2} делаем вывод что
$$\Delta \bar{n}(t) = \lambda(t) \Delta t + o(\Delta t)$$
Наконец, поделив обе части на $\Delta t$ и перейдя к пределу $\Delta t \to 0$, получаем дифференциальное уравнение
\begin{equation}
	\frac{d\bar{n}(t)}{dt} = \lambda(t)
\end{equation}
\begin{definition}\label{eq:3}
	Среднее число событий, происходящих в случайном потоке в единицу времени, называется {\color{red}интенсивностью} этого потока.
\end{definition}
И в сущности мы показали что $\lambda(t)$ в определении ординарного потока -- это интенсивность.

Допустим, что наблюдение за потоком началось при $t = 0$, причем в этот момент не было получено ни одного требования, т.е. $N(0) = 0$, тогда среднее число требований
$\bar{n}(0) = 0$ и решая дифференциальное уравнение \eqref{eq:3} получаем
$$\bar{n}(t) = \int_{0}^{t}{\lambda(s)ds} = \Lambda(t)$$
где функция $\Lambda(t) = \int\limits_{0}^{t}{\lambda(s)ds}$ называется \underline{ведущей функцией потока}. Она представляет собой среднее число требований, попавших на интервал $[0, t]$

Если поток стационарен, то по определению $p_1 (t_1, \Delta t) = p_2 (t_2, \Delta t)$, а значит из \eqref{eq:4}:
$$\lambda(t_1) \Delta t + o(\Delta t) = \lambda(t_2) \Delta t + o(\Delta t), \Delta t \to 0$$
или что равносильно
$$\lambda(t_1) - \lambda(t_2) = \frac{o(\Delta t)}{\Delta t}$$
Левая часть равенства -- константа относительно $\Delta t$, а правая часть стремится к нулю при $\Delta t \to 0$ по определению $o(\Delta t)$, итого совершив предельный переход $\Delta t \to 0$ получаем:
$$\lambda(t_1) - \lambda(t_2) = 0$$
т.е. интенсивность $\lambda(t) = \lambda$ -- постоянная величина и среднее число требований растет по линейному закону:
$$\bar{n}(t) = \Lambda(t) = \lambda t$$

Для интенсивности стационарного потока существует простая оценка. Пусть $N(T)$ -- число требований попавших в интервал $[0, T]$, тогда:
$$\tilde{\lambda} = \frac{N(T)}{T}$$
Разумеется $N(T)$ это случайная величина, рассматриваемая нами ранее, исследуем свойства этой оценки:
$$\mean{\tilde{\lambda}}= \frac{\bar{n}(T)}{T} = \frac{\lambda T}{T} = \lambda$$
т.е. она является \underline{несмещенной} оценкой. Кроме того
$$\variance{\tilde{\lambda}} = \frac{\variance{N(T)}}{T^2}$$
и для многих реальных потоков дисперсия $N(T)$ растет по линейному закону, в зависимости от $T$, поэтому
\begin{equation}\label{eq:5}
	\lim_{T \to \infty}{\variance{\tilde{\lambda}}} = 0
\end{equation}
поскольку $\variance{\tilde{\lambda}} = \mean{(\tilde{\lambda} - \lambda)^2}$, то соотношение \eqref{eq:5} устанавливает сходимость в среднеквадратичном, а она влечет сходимость по мере $\mathcal{P}$ (вероятностной) и значит оценка $\tilde{\lambda}$ является \underline{состоятельной}.

\subsection{Потоки Пальма}

До сих пор мы рассматривали потоки заданные первым способом, перейдя ко второму способу можно теперь заметить что он особенно удобен, если поток является стационарным или не имеет последействия. Для стационарных ординарных потоков, интервалы между событиями $\{\tau_k\}_{k=1}^\infty$ будут распределены \underline{по одному и тому же закону}, для потоков без последействия эти же интервалы будут \underline{независимыми в совокупности} случайными величинами. Два данных свойства интервалов в потоке являются удобными, настолько что Конрад Пальм выделил их в отдельный класс.

\begin{definition}
	Поток событий называют {\color{red}потоком Пальма} если интервалы между событиями $\{\tau_k\}_{k=1}^\infty$ независимы и одинаково распределены.
\end{definition}

Пусть имеется поток Пальма в котором интервалы распределены с плотностью вероятности $a(\tau)$. Важнейшими характеристиками такого потока являются:
\begin{enumerate}
	\item Средний интервал: 
	$$\bar{\tau} = \mean{\tau_k} = \int_0^\infty{\tau a(\tau) d\tau}$$
	\item Дисперсия интервала:
	$$\sigma^2_\tau = \variance{\tau_k} = \mean{(\tau_k - \bar{\tau})^2} = \int_0^\infty {(\tau - \bar{\tau})^2 a(\tau) d\tau}$$  
	\item Коэффициент вариации интервала:
	$$\gamma_\tau = \frac{\sigma_\tau}{\bar{\tau}}$$
	который служит безразмерной мерой рассяния требований в потоке.
\end{enumerate}